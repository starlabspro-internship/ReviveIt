@model dynamic
@{
    ViewData["Title"] = "Technician Profile";
}

@section Styles {
    <link rel="stylesheet" href="~/css/ProsProfile.css" />
}

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" defer></script>
    <script>
        const technicianId = "@ViewBag.TechnicianId";
    </script>
    <script src="~/js/ProsProfile.js" defer></script>
}

<main>
    <section class="profile-section">
        <div class="left-side">
            <div class="profile-picture">
                <img id="profilePicture" src="https://via.placeholder.com/150" alt="Technician's profile picture">
            </div>
            <div class="profile-details">
                <h2 id="technicianFullName"></h2>
                <h5 id="technicianExpertise"></h5>
                <p id="technicianExperience"></p>
                <div id="technicianContact" class="contact-info">
                    <h4>Contact Information</h4>
                    <p>Email: <span id="technicianEmail"></span></p>
                    <p>Phone: <span id="technicianPhone"></span></p>
                </div>


                <div id="technicianDescription" class="description">
                    <h4>Description</h4>
                    <p>No description available.</p>
                </div>
                <div class="review-container">
                    <h4 class="review-header">Reviews</h4>
                    <div class="review-button-wrapper">
                        <button id="toggleReviews" class="toggle-button" aria-expanded="false">Show Reviews</button>
                    </div>
                    <div id="reviewsDropdown" class="dropdown-content">
                    </div>
                </div>
            </div>
        </div>
        <div class="right-side">
            <div id="technicianPortfolio" class="portfolio">
                <h4>Portfolio</h4>
                <p>No portfolios available.</p>
            </div>
        </div>
    </section>
</main>

<div class="add-review-button-container">
    <button id="addReviewButton" class="add-review-button">
        <span class="star-icon">☆</span> Add Review
    </button>
</div>

<div id="reviewFormOverlay" class="form-overlay hidden">
    <div id="reviewFormContainer" class="form-container">
        <div class="form-header">
            <h2>Leave a Review</h2>
            <span id="closeFormBtn" class="close-form">×</span>
        </div>
        <form id="reviewForm">
            <div class="rating-section">
                <label for="reviewRating">Rating:</label>
                <div class="star-rating">
                    <input type="radio" id="star5" name="rating" value="5">
                    <label for="star5" title="5 stars">☆</label>

                    <input type="radio" id="star4" name="rating" value="4">
                    <label for="star4" title="4 stars">☆</label>

                    <input type="radio" id="star3" name="rating" value="3">
                    <label for="star3" title="3 stars">☆</label>

                    <input type="radio" id="star2" name="rating" value="2">
                    <label for="star2" title="2 stars">☆</label>

                    <input type="radio" id="star1" name="rating" value="1">
                    <label for="star1" title="1 star">☆</label>
                </div>
                <input type="hidden" name="rating" id="reviewRating" value="0">
            </div>
            <div class="form-group">
                <label for="reviewComment">Comment:</label>
                <textarea id="reviewComment" name="comment" placeholder="Share your experience..."></textarea>
            </div>
            <div class="form-group">
                <button type="submit" class="submit-btn">Submit Review</button>
            </div>
        </form>
    </div>
</div>
<div id="toast-container" class="toast-container"></div>